# üìã TODO - 2026-01-28

## Contexto
Sess√£o anterior: Cria√ß√£o dos firmwares v17 com PSRAM (1kHz, 800Hz, 400Hz).
Resultado: v17_0.8khz (757Hz) funcionando bem. Upload est√°vel com PSRAM.

---

## üéØ Tarefas Priorit√°rias

### 1. Coleta de Dados
- [ ] Coletar sess√µes de **5-10 pessoas diferentes**
- [ ] Usar tags para identificar cada pessoa: `TAG:nome_pessoa`
- [ ] Coletar 2-3 sess√µes por pessoa
- [ ] Meta: **50-100 sess√µes anotadas** para fine-tuning

### 2. Notebook de Anota√ß√£o Manual
- [ ] Criar `03_annotation_tool.ipynb`
- [ ] Funcionalidades:
  - Buscar sess√µes do Supabase
  - Visualizar batimento por batimento
  - Interface para marcar picos corretos manualmente
  - Salvar anota√ß√µes de volta no Supabase

### 3. Atualizar Notebook de Infer√™ncia (Se√ß√£o 8)
- [ ] Buscar dados diretamente do Supabase (n√£o de CSV)
- [ ] Ler `sampling_rate_hz` da sess√£o (pode variar entre sess√µes)
- [ ] Adaptar para taxas entre 389Hz e 918Hz

### 4. Adicionar Se√ß√£o de Fine-Tuning
- [ ] Criar se√ß√£o 10 no notebook `02_performer_peak_detection.ipynb`
- [ ] Pipeline:
  1. Carregar dados anotados do Supabase
  2. Converter picos anotados em labels bin√°rios
  3. Re-treinar modelo Performer com dados pr√≥prios
  4. Avaliar melhoria vs modelo base

---

## üìä Estrutura de Dados para Anota√ß√£o

Sugest√£o de campos adicionais na tabela `hrv_sessions`:

```sql
-- Campos de anota√ß√£o
annotated_peaks integer[],      -- √çndices dos picos anotados manualmente
annotation_date timestamp,      -- Data da anota√ß√£o
annotation_quality smallint,    -- Qualidade do sinal (1-5)
is_annotated boolean DEFAULT false
```

---

## üîß Melhorias Futuras
- [ ] Criar m√≥dulo de an√°lise do caos (Poincar√©, DFA, Sample Entropy)
- [ ] Criar m√≥dulo de biomarcadores morfol√≥gicos (RI, SI, APG)
- [ ] Integrar modelo Performer no web app (TensorFlow.js)

---

## üìù Notas
- v17_0.8khz √© a vers√£o est√°vel para coleta
- PSRAM resolveu problema de uploads falhando
- 757Hz oferece bom equil√≠brio entre resolu√ß√£o e SNR
